<html>
<head>
	<meta charset="utf-8">
	<title>Obinex Log</title>

	<script type="text/javascript" charset="utf-8">

var ws = new WebSocket("ws://{{.Hostname}}:12334/logws");
ws.onmessage = function(evt) {
	var msg = JSON.parse(evt.data);
	if (msg.LogLine) {
		document.getElementById("log").innerHTML += msg.LogLine;
	}
	if (msg.Queue) {
		document.getElementById("queue").innerHTML = "";
		for (var i in msg.Queue) {
			document.getElementById("queue").innerHTML += msg.Queue[i] + "\n";
		}
	}
};

	</script>
</head>
<body>
<h1>{{.HardwareBox}}</h1>
<h2>Queue:</h2>
	<pre id="queue"></pre>
<h2>Live output:</h2>
	<pre id="log"></pre>
</body>
</html>
